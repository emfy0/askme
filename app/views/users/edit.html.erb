<div class="container">
  <h2 class="title mt-lg">Редактирование пользователя</h2>

  <div class="mt">
    <p><%= image_tag @user.gravatar_url, title: "@#{@user.nickname}", class: 'rounded' %></p>
    <p class="text-sm mt">Чтобы добавить или поменять аватар — зарегистрируйтесь на
      <%= link_to "Gravatar", 'https://gravatar.com' %> и загрузите фото</p>
  </div>

  <% @user.errors.any? %>
    <% @user.errors.full_messages.each do |message| %>
      <p class="mb-sm text-red"><%= message %></p>
  <% end %>

  <div class="mt">
    <%= form_with model: @user, method: :patch, data: { turbo: false } do |form| %>
      <p class="mt"><%= form.label :header_color, "Цвет header-а" %></p>
      <p><%= form.color_field :header_color %></p>

      <p class="mt"><%= form.label :name, "Ваше имя" %></p>
      <p><%= form.text_field :name, class: "form-text-field" %></p>

      <p class="mt"><%= form.label :nickname, "Ник на сайте" %></p>
      <p><%= form.text_field :nickname, class: "form-text-field" %></p>

      <p class="mt"><%= form.label :email %></p>
      <p><%= form.text_field :email, class: "form-text-field" %></p>

      <p class="mt-lg text-sm">Если не хотите менять пароль оставите поля пустыми</p>

      <p class="mt"><%= form.label :password %></p>
      <p><%= form.password_field :password, class: "form-text-field" %></p>

      <p class="mt"><%= form.label :password_confirmation %></p>
      <p><%= form.password_field :password_confirmation, class: "form-text-field" %></p>

      <p class="mt-lg"><%= form.submit "Сохранить", class: "button button-main" %></p>
    <% end %>
  </div>
</div>
